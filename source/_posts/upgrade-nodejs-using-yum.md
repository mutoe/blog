---
title: è®°ä½¿ç”¨ yum å‡çº§ nodejs é‡åˆ°çš„å‘
keywords: [yum, nodejs, centos, å‡çº§å¤±è´¥, ç¼“å­˜]

date: 2018-07-11 22:36:41
categories: å¿ƒå¾—
tags:
  - NodeJS
  - Yum
---

> tips: è§£å†³åŠæ³•åœ¨æ–‡ç« åº•éƒ¨ï¼Œè¯·ä½¿ç”¨å³ä¾§å¯¼èˆªç›´æ¥è·³è½¬åˆ° **è§£å†³åŠæ³•**

## é—®é¢˜æè¿°

æœ€è¿‘åœ¨ä½¿ç”¨ centos 7 æ—¶éœ€è¦å‡çº§åˆ° nodejs 10 ç‰ˆæœ¬ï¼Œç›´æ¥æ‰§è¡Œ `yum update nodejs` å‘ç° yum æºé‡Œè¿˜æ˜¯ 6.xï¼Œå¹¶ä¸”æç¤ºå·²ç»æ˜¯æœ€æ–°ç‰ˆæœ¬äº†ã€‚ã€‚

ï¼Ÿï¼Ÿä»€ä¹ˆé¬¼ï¼Œå» nodesource æŸ¥çœ‹åŸæ¥éœ€è¦å°† nodesource æºå‡çº§ä¸€ä¸‹ï¼Œsoï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤

``` bash
curl -sL https://rpm.nodesource.com/setup_10.x | bash -
yum upgrade nodejs
```

ç«Ÿç„¶å‘ç°è¿˜æ˜¯ 6.x ç‰ˆæœ¬

```
====================================================================================================================
 Package               Arch                  Version                                Repository                 Size
====================================================================================================================
Installing:
 nodejs                x86_64                2:6.11.2-1nodesource                   nodesource                 17 M

Transaction Summary
====================================================================================================================
```

å’¦ï¼Ÿéš¾é“æ˜¯éœ€è¦å°† node å…ˆå¸è½½äº†å—ï¼Ÿäºæ˜¯ `yum remove nodejs` ç„¶å `yum install nodejs`ã€‚ã€‚ã€‚ç„¶åæ˜¯ä½ çŒœåˆ°çš„ç»“æœï¼Œè¿˜è¿˜è¿˜è¿˜æ˜¯ 6.x ç‰ˆæœ¬ã€‚ã€‚ã€‚

<!-- more -->

éšåçŒœæµ‹å¯èƒ½æ˜¯ä¹‹å‰å®‰è£…çš„ nodejs 6.x ç‰ˆæœ¬çš„ nodesource æºï¼Œäºæ˜¯åœ¨ç½‘ä¸ŠæŸ¥æ‰¾äº†èµ„æ–™æƒ³åŠæ³•åˆ é™¤ä¹‹å‰çš„æ—§ç‰ˆ nodesource æºï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤

``` bash
cd /etc/yum.repos.d/
# ç„¶ååˆ é™¤æ‰€æœ‰ä»¥ node å¼€å¤´çš„ repo æ–‡ä»¶ï¼Œä¸‹ä¸€è¡Œå¯èƒ½ä¸ä½ çš„ä¸åŒ
rm -f nodesource-el7.repo
yum clean all # æ¸…ç©º yum ç¼“å­˜
curl -sL https://rpm.nodesource.com/setup_10.x | bash -
yum install nodejs
```

ç„¶åé‡æ–°å®‰è£… nodejsï¼Œä¾æ—§ä¸è¡Œã€‚é—®é¢˜å‡ºåœ¨å“ªé‡Œå‘¢ï¼Ÿç”šè‡³å¼€å§‹æ€€ç–‘æ˜¯æœºå™¨çš„é—®é¢˜ã€‚ã€‚

è¿‡äº†å‡ å¤©å›åˆ°è¿™ä¸ªé—®é¢˜ï¼ŒåˆæŸ¥æ‰¾äº†ä¸å°‘èµ„æ–™, æ ¹æ®
[nodesource/distributions#340](https://github.com/nodesource/distributions/issues/340#issuecomment-251417163) _(çœŸæ˜¯ä¸ºéš¾æˆ‘è¿™ä¸ªè‹±è¯­æ¸£äº†)_ ä¸­çš„ä¸€ä¸ªå›ç­”ï¼Œå‘ç° `yum clean all` æ—¶ï¼Œå¯èƒ½å¹¶ä¸ä¼šæ¸…é™¤ repo ä¸å­˜åœ¨çš„ç¼“å­˜æ–‡ä»¶ï¼Œå¹¶æä¾›äº†ä¸€è¡Œä»£ç æ¥æ‰‹åŠ¨æ¸…é™¤ yum ç¼“å­˜

``` bash
rm -rf /var/cache/yum/*
```

éšåå®‰è£…æœ€æ–°ç‰ˆçš„ nodesource æºï¼Œå®‰è£… nodejsï¼Œäºæ˜¯

```
====================================================================================================================
 Package               Arch                  Version                                Repository                 Size
====================================================================================================================
Installing:
 nodejs                x86_64                2:10.6.0-1nodesource                   nodesource                 17 M

Transaction Summary
====================================================================================================================
```

ğŸ‰ æˆåŠŸäº†ï¼æ€€ç€æ¿€åŠ¨çš„å¿ƒæƒ…è§£å†³äº†é—®é¢˜å¹¶å†™ä¸‹è¿™ç¯‡å¿ƒå¾—ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ï¼Œæœ€åæ€»ç»“ä¸€ä¸‹

## è§£å†³åŠæ³•

**æ— éœ€åˆ é™¤æ—§ç‰ˆæœ¬çš„ nodejsï¼Œè¯¥é—®é¢˜åªä¸ yum ç¼“å­˜æœ‰å…³**

``` bash
# ä»¥ä¸‹å‘½ä»¤è¯·å‡ä»¥ sudo æƒé™æ‰§è¡Œ

yum clean all # æ¸…ç©º yum ç¼“å­˜
rm -rf /var/cache/yum/* # æ‰‹åŠ¨åˆ é™¤æ‰€æœ‰ yum ç¼“å­˜
cd /etc/yum.repos.d/
ls
# è¯·ç»“åˆå®é™…æƒ…å†µåˆ é™¤æ‰€æœ‰ä»¥ node å¼€å¤´çš„ repo æ–‡ä»¶
rm -f nodesource-el.repo # ç§»é™¤æ—§çš„ nodesource æº
curl -sL https://rpm.nodesource.com/setup_10.x | bash - # å®‰è£… nodesource æº
yum update nodejs # å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
```
